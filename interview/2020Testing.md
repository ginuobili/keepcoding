[toc]

---

## tcp/ip协议

### IP网际协议

负责通过网络把数据从一台计算机发送到另一台计算机，数据被分割成一小块一小块，然后通过IP包发送出去。IP包的特点：按块发送，途径多个路由，但不保证能达到，也不保证顺序到达。

IP地址实际是一个32位整数（IPv4），以字符串表示的IP地址是把32位整数按8位分组，便于阅读。IPv6则是128位。

IPv4的特点：

1. 面向无连接，可能出现差错、丢失、重复、失序等
2. 点-点通信
3. 网络层向传输层提供统一的IP分组



### TCP传输控制协议

建立在IP协议之上，是一个专门为了在不可靠的互联网上提供可靠的 端-端 字节流通信而设计的传输层协议。

**TCP协议的特点**：

1. 面向连接的：应用进程之间通信必须经过 **三次握手** 建立连接（建立连接、数据传输、释放连接）
2. 每条TCP连接有两个端点，只能实现点-点通信
3. TCP通过确认、重传机制，提供可靠交付，不存在差错、丢失、重复，能按序达到目的端
4. 全双工通信，允许通信双方同时发送数据
5. 面向字节流，TCP把应用层传给传输层的数据块看成一串无结构的字节序列流



TCP连接的建立：**三次握手**

1. A向B发出连接请求报文；
2. B收到A的连接请求报文后，回答确认报文（如同意连接）；
3. A收到确认报文后，还要向B回送确认。

三次握手指的是连接建立过程中通信双方交互3个报文（请求—确认—再确认）的过程。
原因：
考虑两次握手：客户端发送一个连接请求，服务端接受到连接请求，发送一个确认，此时服务端已经确认自己有接受报文的能力，认为连接已经建立，
所以开始为已建立的连接分配资源，如果服务端发送的确认丢失，客户端就无从知道连接已经建立。如果存在大量这种情况，就有可能会造成服务器崩溃。

![2020Testing三次握手.png](../../markdown_pic/2020Testing三次握手.png)

TCP连接的释放：**四次挥手**

1. 假设由A向B发出连接释放的报文，主动关闭TCP连接（我这边没有数据传输了，准备断开连接）；
2. TCP的连接是全双工的双向连接，关闭必须从两边关闭。B收到释放报文后，从A到B的连接就释放了，连接处于半关闭状态（此时B仍可以向A发送数据）；如果没有正在传输的数据了，回答确认报文，此时，A收到来自B的确认报文后，等待B再发来连接释放的报文；
3. B向A发送连接释放的报文，A收到报文后，必须对此发出确认；
4. A向B发送确认报文，B收到报文后，就进入了CLOSE状态，结束本次的TCP连接。


![](../../markdown_pic/2020Testing四次挥手.png)



### UDP用户数据报协议

只在IP协议的基础上增加了复用/分用功能和差错检测功能，为网络用户提供高效率的数据传输服务。

**UDP协议的特点**

1. UDP是无连接的，没有建立连接和释放连接的过程
2. 只能尽最大努力交付，提供不可靠的传输（对于出现差错的报文进行丢弃）
3. 面向报文，与应用层交付的是完整的报文，既不合并，也不拆分，保留原始报文
4. UDP没有拥塞控制功能（即使网络拥塞也不会降低发送速率，宁愿丢包也不允许时延）
5. UDP通过的是不可靠信道



在 TCP/IP 中包含一系列用于处理数据通信的协议：

- TCP (传输控制协议) - 应用程序之间通信

* UDP (用户数据包协议) - 应用程序之间的简单通信
* IP (网际协议) - 计算机之间的通信
* ICMP (因特网消息控制协议) - 针对错误和状态
* DHCP (动态主机配置协议) - 针对动态寻址

---

## Http协议

HTTP超文本传输协议，是浏览器和服务器之间的通信协议

### HTTP协议特点

1. 面向事物，保证了数据传输的可靠性
2. 无连接的，通信双方在交换报文前，不需要先建立HTTP连接
3. 无状态的，服务器没有记忆功能

### HTTP主要的不足

1. 通信使用明文(不加密)，内容可能被窃听
2. 不验证通信方的身份，有可能遭遇伪装
3. 无法证明报文的完整性，可能被篡改

### 五大类HTTP状态码

1. 1xx 提示信息，表示目前是协议处理的中间状态，还需后续操作
2. 2xx 成功，报文已经收到，被正确处理
3. 3xx 重定向，资源位置发生改变，需要客户端重新发送请求
4. 4xx 客户端错误，请求报文有误，服务器无法处理
5. 5xx 服务器错误，服务器在处理请求时内部发送错误

### http 常见字段

1. host 客户端发送请求时，用来指定服务器的域名
2. Content-Length 本次 response 的数据长度
3. Connection 常用于客户端要求服务器使用 TCP 持久连接（Keep-Alive），以便于其他请求复用
4. Content-Type 常见于服务器返回的 response，表示此数据的格式（比如 Content-Type: text/html; charset=utf-8 发送的是网页，而且编码是UTF-8）。客户端请求时，可以用 Accept 声明可以接受哪些数据格式（Accept: */* 表示接受任何格式数据）
5. Content-Encoding 数据压缩方法，表示返回的数据使用的压缩格式。同理，客户端在请求时，用 Accept-Encoding 表示可接受的压缩方法（Accept-Encoding: gzip, deflate）

### get 和 post 方法

`GET` 方法的含义是请求从服务器获取资源，这个资源可以是静态的文本、页面、图片视频等。

`POST` 方法则向 `URI` 指定的资源提交数据，数据就放在报文的 body 里。POST比GET安全，因为数据在地址栏上不可见。

HTTP 基本的报文格式就是 `header + body`，头部信息也是 `key-value` 简单文本的形式。

### HTTP 是无状态的

-  **好处**，服务器不会去记忆 HTTP 的状态，不需要额外的资源来记录状态信息，这能减轻服务器的负担，能够把更多的 CPU 和内存用来对外提供服务。
- **坏处**，服务器没有记忆能力，它在完成有关联性的操作时会非常麻烦。比如 登录->添加购物车->下单->结算->支付。

### HTTP 与 HTTPS 有哪些区别

- HTTP 是超文本传输协议，信息是明文传输，存在安全风险的问题。

- HTTPS 解决 HTTP 不安全的缺陷，在 TCP 和 HTTP 网络层之间加入了 **SSL/TLS 安全协议**，使得报文能够加密传输。

- HTTP 的端口号是 80，HTTPS 的端口号是 443。
- HTTPS 协议需要向 CA（证书权威机构）申请数字证书，来保证服务器的身份是可信的。

[Reference](https://mp.weixin.qq.com/s/POTAm63ynP_z-_54TCw8Lg)

---

Todo：

1. 用过哪些工具
2. 主流测试工具的掌握
3. 如何测试百度网盘
4. 测试理论知识（测试方法）、测试流程
5. 如何对待被安排不喜欢做的事情