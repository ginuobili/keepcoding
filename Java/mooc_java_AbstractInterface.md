## 抽象&接口

#### 1. 抽象

##### 1. 函数/抽象类

- 抽象函数 —— 表达概念而无法实现具体代码的函数
- 抽象类 —— 表达概念而无法构造实体的类

- 带有abstract修饰符的函数
- 有抽象函数的类一定是抽象类
- 抽象类不能制造对象，但是可以定义变量
  - 任何继承了抽象类的非抽象类的对象可以赋给这个变量

##### 2. 实现抽象函数

- 继承自抽象类的子类必须覆盖父类中的抽象函数
- 否则子类自己成为抽象类，也无法制造对象

##### 3. 两种抽象

- 与具体相对
  - 表示一种概念而非实体
- 与细节相对
  - 表示在一定程度上忽略细节而着眼大局

---

示例Shape：[Code](https://gitee.com/zypdominate/keeplearning/tree/master/myLearning/learningJava/src/mooc_java/shapes)

Shape类表达的是一种概念，一种**共同属性的抽象集合**，我们并不希望任何Shape类的对象会被创建出来。那么，我们就应该把这个Shape类定义为抽象的。我们用 `abstract` 关键字来定义抽象类。**抽象类的作用仅仅是表达接口，而不是具体的实现细节**。

抽象类中可以存在抽象方法。抽象方法也是使用abstract关键字来修饰。抽象的方法是不完全的，它只是一个方法签名而完全没有方法体。

如果一个类有了一个抽象的方法，这个类就必须声明为抽象类。如果父类是抽象类，那么子类必须覆盖所有在父类中的抽象方法，否则子类也成为一个抽象类。一个抽象类可以没有任何抽象方法，所有的方法都有方法体，但是整个类是抽象的。设计这样的抽象类主要是为了防止制造它的对象出来。

**数据与表现分离**

- 程序的业务逻辑与表现无关
  - 表现可以是图形的，也可以是文本的
  - 表现可以是本地的，也可以是远程的

**View和Field的关系**

- 表现与数据的关系
- View只管根据Field画出图形
- Field只管数据的存放
- 一旦数据更新后，通知View重新画出整个画面
  - 不去设计哪个局部需要更新
  - 简化了程序逻辑
  - 这是在计算机运算速度提高的基础上实现的

**责任驱动的设计**

- 将程序要实现的功能分配到合适的类/对象中去实设计中非常重要的一环

**网格化**

- 图形界面本身有更高的解析度
- 但是将画面网格化后，数据更容易处理

---

####  2. 接口

##### 1. 接口

- 接口是纯抽象类
  - 所有的成员函数都是抽象函数
  - 所有的成员变量都是 public static final
- 接口规定了长什么样，但是不管里面有什么

##### 2. 实现接口

- 类用extends，接口用implements
- 类可以实现很多接口
- 接口可以继承接口，但不能继承类
- 接口不能实现接口

##### 3. 面向接口的编程

- 设计程序时先定义接口，再实现类
- 任何需要再函数间传入传出的一定是接口，而不是具体的类
- 是java成功的关键之一，因为极适合多人同时写一个大程序
- 也是java被批评的要点之一，因为代码量膨胀起来很快

##### 4. Cell和Field的关系

- Cell在Field中，但是Cell的很多操作需要Field的数据

- 方法一：

  让每个Cell有一个Field的管理者（Cell知道Field）

- 方法二：

  有外部第三方来建立两者之间的联系（Cell不知道Field）